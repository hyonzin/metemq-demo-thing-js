"use strict";
var utils_1 = require('./utils');
var Binding = (function () {
    function Binding(field, setFunction, thing) {
        this.field = field;
        this.setFunction = setFunction;
        this.thing = thing;
    }
    Binding.prototype.set = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i - 0] = arguments[_i];
        }
        args.push(this.sendBindMsg);
        var value = this.setFunction.apply(this, args);
        if (value != undefined)
            this.sendBindMsg(value);
    };
    Binding.prototype.sendBindMsg = function (value) {
        this.thing.mqttClient.publish(this.thing.id + "/$bind/" + this.field, utils_1.mkString(value));
    };
    return Binding;
}());
exports.Binding = Binding;
//# sourceMappingURL=binding.js.map